# JavaScript ç°ä»£åŒ–é¡¹ç›®ç®¡ç†ï¼šæœ€ä½³å®è·µç¯‡

æœ¬æŒ‡å—é€šè¿‡çœŸå®çš„å¼€å‘åœºæ™¯ï¼Œä¸ºä½ æä¾›ä¸€å¥—å¯è½åœ°çš„ JavaScript å·¥ç¨‹åŒ–èµ·æ‰‹å¥—è·¯ã€‚

---

# 1. å‰ç«¯ç°ä»£åŒ–å·¥ç¨‹ (Scaffold-oriented)

ç°ä»£å‰ç«¯ç”±äºæ¶‰åŠæå…¶å¤æ‚çš„ç¼–è¯‘é“¾è·¯ï¼ˆVite, TS, Tailwind, ESLintï¼‰ï¼Œ**ä»é›¶é€šè¿‡ `pnpm init` æ‰‹åŠ¨é…ç½®å‡ ä¹æ˜¯ä¸ç°å®çš„**ã€‚

**æ ¸å¿ƒå¿ƒæ™ºï¼šè„šæ‰‹æ¶å…ˆè¡Œï¼Œç¯å¢ƒé”šå®šåœ¨åã€‚**

1.  **ä¸€é”®ç”Ÿæˆé¡¹ç›®**ï¼š
    ```bash
    pnpm create next-app      # åˆ›å»º Next.js
    # æˆ–
    pnpm create vite          # åˆ›å»º Vite (React/Vue/Svelte)
    ```
2.  **ç«‹å³æ‰§è¡Œç¯å¢ƒé”å®š**ï¼š
    è¿›å…¥é¡¹ç›®ç›®å½•åï¼Œç¬¬ä¸€æ—¶é—´è¿è¡Œï¼š
    ```bash
    node -v > .node-version   # å¼ºåˆ¶ fnm é”å®šå½“å‰ Node ç‰ˆæœ¬
    ```
3.  **æ ‡å‡†åŒ–è¡¥å…¨**ï¼š
    æ£€æŸ¥ `package.json`ï¼Œç¡®ä¿å·²åŒ…å« `"type": "module"` (ç°ä»£ ESM æ ‡å‡†)ã€‚

---

# 2. åç«¯å·¥ç¨‹ (Framework vs. Minimalist)

ç­–ç•¥éœ€æŒ‰æ´¾ç³»é€‰æ‹©ï¼š

### A. é‡å‹æ¡†æ¶æ´¾ (Enterprise Grade, e.g., NestJS)
é€‚åˆå¤æ‚ä¸šåŠ¡ã€‚æ‹¥æœ‰ä¸¥è°¨çš„æ¶æ„çº¦å®šå’Œè‡ªå¸¦çš„ CLIã€‚
- **æœ€ä½³å®è·µ**ï¼šä½¿ç”¨ä¸“ç”¨è„šæ‰‹æ¶ï¼Œä¿æŒå…¨å®¶æ¡¶çš„ä¸€è‡´æ€§ã€‚
  ```bash
  pnpm dlx @nestjs/cli new my-api-service
  ```

### B. è½»å‹è‡ªç”±æ´¾ (Minimalist, e.g., Hono, Fastify)
é€‚åˆè¿½æ±‚æè‡´æ€§èƒ½æˆ–ç®€å•çš„ API æ¡¥æ¥ã€‚
- **æœ€ä½³å®è·µ**ï¼š**â€œæ‰‹åŠ¨åˆå§‹åŒ– + ç»„ä»¶åŒ–ç»„è£…â€**ã€‚
  ```bash
  mkdir my-hono-app && cd my-hono-app
  fnm use 20 && node -v > .node-version  # å…ˆå®šç‰ˆæœ¬
  pnpm init                              # åˆå§‹åŒ–æ¸…å•
  pnpm add hono                          # æŒ‰éœ€å¼•å…¥æ ¸å¿ƒ
  pnpm add -D typescript @types/node     # åŠ å…¥å¼€å‘å·¥å…·
  ```

---

# 3. é€šç”¨åº“ä¸ SDK å¼€å‘ (API-oriented Library)

**ä¸€å¥è¯è¾¨æ**ï¼šä½ çš„ä»£ç æ˜¯ç»™åˆ«äººçš„**ä»£ç **è°ƒç”¨çš„ï¼ˆé€šè¿‡ `import` å¼•ç”¨ï¼‰ã€‚å¦‚ `lodash` æˆ– `axios`ã€‚

å¦‚æœä½ æ­£åœ¨ç¼–å†™ä¸€ä¸ªä¾›ä»–äººä½¿ç”¨çš„åŒ…ï¼Œä½ çš„å…³æ³¨ç‚¹å°†ä»â€œæ‰§è¡Œâ€è½¬å‘â€œåˆ†å‘â€ã€‚

**æ ¸å¿ƒå¿ƒæ™ºï¼šæè‡´çš„å…¼å®¹æ€§ã€è½»é‡åŒ–ä¸ç±»å‹å®Œå¤‡ã€‚**

1.  **ç°ä»£åŒ–æ„å»ºå·¥å…·èµ·æ‰‹**ï¼š
    æ¨èä½¿ç”¨åŸºäº esbuild çš„é›¶é…ç½®å·¥å…·ï¼š`pnpm add -D tsup typescript`ã€‚
2.  **é…ç½®åŒæ ¼å¼è¾“å‡º (ESM + CJS)**ï¼š
    åœ¨ `package.json` ä¸­é…ç½®â€œå¯¼å‡ºåœ°å›¾â€ï¼š
    ```json
    {
      "type": "module",
      "exports": {
        ".": {
          "import": "./dist/index.js",
          "require": "./dist/index.cjs",
          "types": "./dist/index.d.ts"
        }
      },
      "files": ["dist"]
    }
    ```
3.  **ç²¾å‡†å®šä¹‰å®¿ä¸»ä¾èµ– (`peerDependencies`)**ï¼š
    å¦‚æœåŸºäº React/Vue å¼€å‘åº“ï¼Œè¯·å°†å…¶æ”¾å…¥ `peerDependencies` è€Œé `dependencies`ï¼Œé¿å…ç”¨æˆ·é¡¹ç›®ä¸­å‡ºç°å¤šä¸ªå‰¯æœ¬ã€‚

---

# 4. è„šæ‰‹æ¶ä¸å‘½ä»¤è¡Œå·¥å…·å¼€å‘ (CLI-oriented Tool)

**ä¸€å¥è¯è¾¨æ**ï¼šä½ çš„ä»£ç æ˜¯ç»™**äºº**ç›´æ¥åœ¨ç»ˆç«¯è¿è¡Œçš„ï¼ˆé€šè¿‡è¾“å…¥æŒ‡ä»¤æ‰§è¡Œï¼‰ã€‚å¦‚ `pnpm create` æˆ– `git`ã€‚

> **ğŸ’¡ æ·±åº¦è§£æï¼šCLI ä¸è„šæ‰‹æ¶çš„å…³ç³»**
> æŠ€æœ¯ä¸Šï¼Œ**è„šæ‰‹æ¶æ˜¯ CLI çš„ä¸€ç§ç‰¹æ®Šå½¢å¼**ã€‚
> - **é€šç”¨ CLI**ï¼šåƒâ€œå¤šåŠŸèƒ½å·¥å…·ç®±â€ï¼Œç”¨æ¥è§£å†³å…·ä½“é—®é¢˜ï¼ˆå¦‚å‹ç¼©å›¾ç‰‡ï¼‰ã€‚
> - **è„šæ‰‹æ¶ (Scaffolding)**ï¼šåƒâ€œæˆ¿å±‹é¢„åˆ¶ä»¶â€ï¼Œä¸“é—¨ç”¨äºä»é›¶åˆå§‹åŒ–é¡¹ç›®ã€‚
> åœ¨ pnpm ç”Ÿæ€ä¸­ç‰¹æ„åŒºåˆ†å®ƒä»¬ï¼Œæ˜¯å› ä¸ºè„šæ‰‹æ¶æ‹¥æœ‰ç‰¹æ®Šçš„å‘½ååè®® (`create-`)ã€‚

**æ ¸å¿ƒæ­¥éª¤ï¼š**
1.  **å£°æ˜ Shebang**ï¼šå…¥å£æ–‡ä»¶ç¬¬ä¸€è¡Œå¿…é¡»æ˜¯ `#!/usr/bin/env node`ã€‚
2.  **æ³¨å†Œ `bin` å­—æ®µ**ï¼šåœ¨ `package.json` ä¸­æ˜ å°„æŒ‡ä»¤åç§°ï¼Œå¦‚ `"bin": { "my-cli": "./dist/index.js" }`ã€‚
3.  **éµå¾ªå‘½åè§„èŒƒå®ç°ç®€åŒ–è°ƒç”¨**ï¼šå¦‚æœåŒ…åèµ·ä¸º `create-vibe`ï¼Œç”¨æˆ·å³å¯ç”¨ `pnpm create vibe` ç›´æ¥è¿è¡Œã€‚

---

# é™„å½•ï¼šæ·±åº¦æ‰§è¡Œå‚è€ƒ

### A. å‘½åç©ºé—´å‚è€ƒ (Top-level vs. Scoped)
*   **é¡¶çº§åŒ…å**ï¼š`axios`, `next`ã€‚å…¨çƒå”¯ä¸€ï¼Œå…ˆåˆ°å…ˆå¾—ã€‚
*   **ä½œç”¨åŸŸåŒ…**ï¼š`@nestjs/cli`, `@types/node`ã€‚ç”± `@scope/` å¼€å¤´ï¼Œæœç»å†’åé£é™©ï¼Œç°ä»£å¤§å‚æ ‡å‡†ã€‚

### B. `pnpm dlx`ï¼šä¸´æ—¶å·¥å…·æ‰§è¡Œå™¨
`dlx` æŒ‡ "Download and Execute"ã€‚ç”¨äº**â€œä½ ä¸æƒ³å®‰è£…åˆ°é¡¹ç›®ä¸­ï¼Œä½†å¶å°”éœ€è¦ç”¨ä¸€ä¸‹â€**çš„å·¥å…·ï¼ˆç±»ä¼¼ `npx` ä½†æ›´é«˜æ•ˆï¼‰ã€‚

### C. `pnpm create`ï¼šè„šæ‰‹æ¶å¿«æ·æ–¹å¼
è¿™æ˜¯ `pnpm dlx` çš„ä¸“ç”¨è¯­æ³•ç³–ã€‚
1.  `pnpm create next-app` $\rightarrow$ å¯»æ‰¾åä¸º **`create-next-app`** çš„åŒ…ã€‚
2.  `pnpm create @scope/name` $\rightarrow$ å¯»æ‰¾åä¸º **`@scope/create-name`** çš„åŒ…ã€‚

### D. pnpm è„šæœ¬æ‰§è¡Œé€»è¾‘
å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œ`pnpm <script>` $\equiv$ `pnpm run <script>`ã€‚
**å¿…é¡»åŠ  `run` çš„æƒ…å†µ**ï¼šå½“ä½ çš„è„šæœ¬åç§°ä¸ pnpm çš„å†…ç½®å‘½ä»¤ï¼ˆå¦‚ `install`, `test`ï¼‰åç§°å†²çªæ—¶ã€‚

### E. å…³äº Build è„šæœ¬ä¸æ„å»ºè¿‡ç¨‹
ç°ä»£å‰ç«¯é¡¹ç›®é€šå¸¸éœ€è¦ç»è¿‡ï¼š
1.  **ç¼–è¯‘/è½¬è¯‘**ï¼šTS/JSX $\rightarrow$ JSã€‚
2.  **æ··æ·†å‹ç¼©**ï¼šå‡å°ä½“ç§¯ã€‚
3.  **æ‰“åŒ… (Bundling)**ï¼šåˆå¹¶æ¨¡å—ã€‚
*æ³¨ï¼šç®€å• Node.js è„šæœ¬å¯è·³è¿‡æ­¤æ­¥ã€‚*
